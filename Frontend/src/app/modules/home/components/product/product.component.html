<div class="d-flex justify-content-end">
	<button mat-icon-button mat-dialog-close>
		<mat-icon>close</mat-icon>
	</button>
</div>

<h2 mat-dialog-title>
	{{ (site.product.asObservable() | async)?.name }}
</h2>
<div mat-dialog-content>
	<div class="container">
		<div class="row">
			<div class="col-6">
				<app-image [imageClass]="'product-image'" [id]="(site.product.asObservable() | async)?.image[0]"></app-image>
			</div>
			<div class="col-6 pl-2">
				<h3 class="mat-display-1">
					{{ (site.product.asObservable() | async)?.cost | ruble }}
				</h3>
				<p>
					{{ (site.product.asObservable() | async)?.description }}
				</p>
			</div>
		</div>
		<div class="row">
			<div class="col-12 mt-4">
				<form class="d-flex flex-column" [formGroup]="formGroup" *ngIf="state === 'initial'">
					<mat-form-field appearance="outline">
						<mat-label>ФИО</mat-label>
						<input type="text" matInput formControlName="name">
					</mat-form-field>
					<mat-form-field appearance="outline">
						<mat-label>Телефон</mat-label>
						<input type="text" matInput formControlName="phone">
					</mat-form-field>
					<mat-form-field appearance="outline">
						<mat-label>Email</mat-label>
						<input type="text" matInput formControlName="email">
					</mat-form-field>
					<mat-form-field appearance="outline">
						<mat-label>Дата</mat-label>
						<input type="text" matInput [matDatepicker]="picker" formControlName="date">
						<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
						<mat-datepicker [dateClass]="dateClass" #picker></mat-datepicker>
					</mat-form-field>
				</form>
			</div>
		</div>
	</div>
</div>
<div mat-dialog-actions>
	<button mat-button color="primary" *ngIf="state === 'initial'" (click)="purchase()">Заказать</button>
</div>
